<!DOCTYPE html>
<html>
<head>
<style>

.column {
  	float: left;
  	width: 50%;
  	padding: 10px 10px;
}

.row:after {
  	content: "";
  	display: table;
  	clear: both;
}

div{
	width: 400px;
	padding: 10px;
	margin: 10px;
}
</style>	
</head>
	<body>
	<h4>Fly - The online zip-up and extract tool</h4>


	<p>Upload your file below!</p>

	<input type="file" id="file" name="file" multiple /><br />

	<div id="result_block" class="hidden">
  		<h3>Content :</h3>
  		<div id="result"></div>
	</div>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.5.0/jszip.js"></script>
<script type="text/javascript">
	
(function () {
  if (!window.FileReader || !window.ArrayBuffer) {
    $("#error_block").removeClass("hidden").addClass("show");
    return;
  }

var $result = $("#result");
$("#file").on("change", function(evt) {
    // remove content
    $result.html("");
    // be sure to show the results
    $("#result_block").removeClass("hidden").addClass("show");

    // Closure to capture the file information.
    function handleFile(f) {
        var $title = $("<h4>", {
            text : f.name
        });
        var $fileContent = $("<ul>");
        $result.append($title);
        $result.append($fileContent);

        var dateBefore = new Date();
        JSZip.loadAsync(f)                                   // 1) read the Blob
        .then(function(zip) {
            var dateAfter = new Date();
            $title.append($("<span>", {
                "class": "small",
                text:" (loaded in " + (dateAfter - dateBefore) + "ms)"
            }));

            zip.forEach(function (relativePath, zipEntry) {  // 2) print entries
                $fileContent.append($("<li>", {
                    text : zipEntry.name
                }));
            });
        }, function (e) {
            $result.append($("<div>", {
                "class" : "alert alert-danger",
                text : "Error reading " + f.name + ": " + e.message
            }));
        });
    }

    var files = evt.target.files;
    for (var i = 0; i < files.length; i++) {
        handleFile(files[i]);
    }
});



})();

</script>
<!--
            var fr = new FileReader(); 

            fr.onload=function(){ 
            	var element = document.createElement("div");
            	element.setAttribute('class', 'column');
            	element
                document.getElementById('pathrow') 
                        .textContent=fr.result; 
                var row = document.getElementById("pathrow").appendChild(element);
            } 
              
            fr.readAsText(this.files[0]); */ 
-->

</html>